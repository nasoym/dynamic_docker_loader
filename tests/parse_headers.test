#!/usr/bin/env bash

set -e

source lib/parse_headers
source tests/lib/assert.sh/assert.sh

parse_headers <<<"A: B
C: D

"
assert "echo \$REQUEST_HEADER_A" "B"
assert "echo \$REQUEST_HEADER_C" "D"
assert "echo \$HEADER_KEY" ""
assert "echo \$HEADER_VALUE" ""
assert "echo \$HEADER_LINE" ""

parse_headers <<<"A: 1"
assert "echo \$REQUEST_HEADER_A" "1"

assert_end tests

